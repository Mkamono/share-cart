version: "3"

interval: 50ms

tasks:
  generate:
    cmd: npx -y openapi-typescript ../api/docs/openapi.yaml -o share-cart/app/models/schema.d.ts
    sources:
      - "../api/docs/openapi.yaml"
    generates:
      - "share-cart/app/models/schema.d.ts"

  format:
    cmds:
      - biome format --write
    sources:
      - "**/*.tsx"
      - "**/*.ts"

  dev:
    dir: share-cart
    cmds:
      - yarn dev & task format -w & task generate -w

  gen_env:
    cmd: npx gen-env-template .env .env.example
    sources:
      - ".env"
    generates:
      - ".env.example"
